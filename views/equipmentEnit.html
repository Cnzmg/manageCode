<!DOCTYPE html>
<!--[if IE 9 ]><html class="ie9"><![endif]-->

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0" />
    <meta name="format-detection" content="telephone=no">
    <meta charset="UTF-8">

    <meta name="description" content="共享咖啡管理后台">
    <meta name="keywords" content="yuanmeng,ym,圆梦,系统,后台系统,咖啡蜗,蜗牛,大正集团">
    <meta name="renderer" content="webkit">
    <link rel="stylesheet" href="../../public/stylesheets/plugin/bootstrap.min.css">
    <link rel="stylesheet" href="../../public/stylesheets/plugin/element.min.css">
    <script src="../../public/javascripts/plugin/vue.js"></script>
    <script src="../../public/javascripts/plugin/element.min.js"></script>

    <title>广东圆梦实业发展有限公司</title>
</head>

<body class="_scrollbar">
    <div id="c-container-list" data-uri="manage_machine" data-asset="/manage/equipmentList.html"
        data-goback="../equipmentList.html" v-loading.fullscreen.lock="loading" data-search="manage_machine">
        <el-container>
            <el-form :model="ruleForm" :rules="rules" ref="ruleForm" label-width="100px" class="demo-ruleForm">
                <el-form-item label="商户名称" prop="adminName">
                    <el-input v-model="ruleForm.adminName" class="w400" :disabled="true"></el-input>
                </el-form-item>
            </el-form>
            <el-form-item label="选择地区" prop="province">
                <el-cascader size="large" :options="address" v-model="ruleForm.province" @change="handleChange">
                </el-cascader>
            </el-form-item>
        </el-container>
    </div>

    <form id="equEnitForm" method="post" role="form">

        <div class="form-group" style="height:auto;overflow:hidden;">
            <label class="col-sm-1 control-label" style="line-height:34px;text-align:right;">地址搜索</label>
            <div class="col-sm-11">
                <input type="text" id="detailedAddress" placeholder="搜索地址"
                    style="height:34px;width:20%;background:none;border:1px solid rgba(255, 255, 255, 0.3);" />
                <input type="button" value="搜索" id="btnclick"
                    style="height:34px;width:10%;background:none;border:1px solid rgba(255, 255, 255, 0.3);" />
            </div>
        </div>
        <div class="form-group" style="height:auto;overflow:hidden;">
            <label class="col-sm-1 control-label" style="line-height:34px;text-align:right;">地址搜索</label>
            <div class="col-sm-11">
                <input type="text" id="shoemap" placeholder="坐标值"
                    style="height:34px;width:20%;background:none;border:1px solid rgba(255, 255, 255, 0.3);" />
                <span class="block-title"
                    style="font-size:12px;text-align:right;margin-right:10px;background:none;margin-top:10px;">详细地址</span>
                <input type="text" id="machineAddrDesc" placeholder="精确到门牌号"
                    style="height:34px;width:20%;background:none;border:1px solid rgba(255, 255, 255, 0.3);" />
                <input type="hidden" name="machineAddrDesc" />
                <input type="hidden" id="typtip" />
                <!-- <input type="button" value="当前坐标" style="background:none;border:1px solid #fff;"/> -->
                <a class="block-title" style="font-size:12px;text-align:center;margin-left:30px;width:112px;"
                    href="javascript:void(0)" onclick="jzm.manageMachineRootEnit()">保存</a>
            </div>
        </div>
        <div class="form-group">
            <label class="col-sm-1 control-label" style="line-height:34px;text-align:right;">场景图片</label>
            <div class="col-sm-8">
                <div class="col-sm-4">
                    <img class="radio-inline" id="machineScenePicUrl_img" height="200px" src="">
                    <span class="btn btn-primary pbtn" style="margin:20px;"
                        onclick="jzm.updateFile({type:10,id:['#machineScenePicUrl_img','#machineScenePicUrl_file','#machineScenePicUrl'],format:'i'})">选择图片</span>
                    <input type="file" class="form-control" accept="image/jpeg,image/png" id="machineScenePicUrl_file"
                        name="machineScenePicUrl_file" style="display:none;" value="">
                    <input type="hidden" class="form-control" id="machineScenePicUrl" name="machineScenePicUrl"
                        style="display:none;" value="">
                </div>
            </div>
        </div>
        <div class="col-sm-12">
            <div id="cityg" style="height:500px;width:100%;margin-top:10px;"></div>
        </div>
        <div id="r-result"></div>
        <input type="hidden" id="machineLongitude" name="machineLongitude" />
        <input type="hidden" id="machineLatitude" name="machineLatitude" />
    </form>
    </div>
    </section>
    <br /><br />

    </section>
    <!-- 加载地图JSAPI脚本 -->
    <script
        src="https://webapi.amap.com/maps?v=1.4.10&key=97434082798d9b20459f18d679bcbdf3&plugin=AMap.Geocoder"></script>
    <script type="text/javascript"
        src="https://a.amap.com/jsapi_demos/static/demo-center/js/underscore-min.js"></script>
    <script type="text/javascript" src="https://a.amap.com/jsapi_demos/static/demo-center/js/backbone-min.js"></script>
    <script type="text/javascript" src='https://a.amap.com/jsapi_demos/static/demo-center/js/prety-json.js'></script>
    <script type="text/javascript">
        // var ac = '$("#shoemap").val()';
        // // 高德地图API功能
        // var map = new BMap.Map("cityg");
        // var point = new BMap.Point(ac.split(',')[0], ac.split(',')[1]);
        // map.centerAndZoom(point, 12);
        // map.enableScrollWheelZoom(true);
        // map.addOverlay(new BMap.Marker(new BMap.Point(ac.split(',')[0], ac.split(',')[1])));
        // var geoc = new BMap.Geocoder();
        // map.addControl(new BMap.NavigationControl()); //添加默认缩放平移控件
        // map.addEventListener("click", function (e) {
        //     //通过点击百度地图，可以获取到对应的point, 由point的lng、lat属性就可以获取对应的经度纬度
        //     var pt = e.point;
        //     geoc.getLocation(pt, function (rs) {
        //         //addressComponents对象可以获取到详细的地址信息
        //         var addComp = rs.addressComponents;
        //         var site = addComp.province + addComp.city + addComp.district + addComp.street + addComp.streetNumber;
        //         //将对应的HTML元素设置值
        //         // console.log(site);
        //         // $("#shoemap").val(pt.lng + ", " + pt.lat);
        //         // $("#detailedAddress").val(site);

        //         // $("input[name='province']").val(addComp.province);
        //         // $("input[name='city']").val(addComp.city);
        //         // $("input[name='district']").val(addComp.district);

        //         // $("#machineAddrDesc").val("");
        //         // $("input[name='machineAddrDesc']").val("");
        //         // $("#typtip").val(6);

        //     });
        // });
        // $("#btnclick").click(function (event) {
        //     var localshow = new BMap.LocalSearch(map, {  //本地检索
        //         renderOptions: { map: map }
        //     });
        //     localshow.search($("#detailedAddress").val());
        //     map.clearOverlays();  //清除原来的标点
        //     var options = {
        //         onSearchComplete: function (results) {
        //             // 判断状态是否正确
        //             console.log(results);
        //             if (local.getStatus() == BMAP_STATUS_SUCCESS) {
        //                 var s = [];
        //                 for (var i = 0; i < results.getCurrentNumPois(); i++) {
        //                     s.push(results.getPoi(i).title + ", " + results.getPoi(i).address);
        //                     $("#shoemap").val(results.getPoi(0).point.lng + ", " + results.getPoi(0).point.lat);
        //                 }
        //             }
        //         }
        //     };

        //     var local = new BMap.LocalSearch(map, options);
        //     local.search($("#detailedAddress").val());

        //     $("input[name='machineAddrDesc']").val("");
        //     $("#machineAddrDesc").val("");
        //     $("#typtip").val(6);
        // });
    </script>
</body>

</html>