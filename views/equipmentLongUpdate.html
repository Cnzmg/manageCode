<!DOCTYPE html>
<!--[if IE 9 ]><html class="ie9"><![endif]-->

<head>
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0" />
	<meta name="format-detection" content="telephone=no">
	<meta charset="UTF-8">

	<meta name="description" content="共享咖啡管理后台">
	<meta name="keywords" content="yuanmeng,ym,圆梦,系统,后台系统,咖啡蜗,蜗牛,大正集团">
	<meta name="renderer" content="webkit">
	<link rel="stylesheet" href="../../public/stylesheets/plugin/bootstrap.min.css">
	<link rel="stylesheet" href="../../public/stylesheets/plugin/element.min.css">
	<script src="../../public/javascripts/plugin/vue.js"></script>
	<script src="../../public/javascripts/plugin/element.min.js"></script>

	<title>广东圆梦实业发展有限公司</title>
</head>


<body class="_scrollbar">
	<div id="c-container-list" style="height: 100%;" data-uri="manage_machine_version">
		<template>
			<div style="width: 100%;margin-bottom:10px;">
				<el-button @click="detailTableAndVisible = true" type="primary">添加版本<i
						class="el-icon-plus el-icon--right"></i></el-button>
			</div>
			<el-container v-loading.fullscreen.lock="loading">
				<el-main>
					<template>
						<el-table :data="tableData" stripe style="width: 100%">
							<el-table-column prop="mUpdateId" label="版本ID"></el-table-column>
							<el-table-column prop="mUpdateVersion" label="版本号"></el-table-column>
							<el-table-column prop="versionCode" label="版本序列号"></el-table-column>

							<el-table-column prop="mUpdateTime" label="上传日期"></el-table-column>

							<el-table-column prop="mUpdateDes" label="版本说明"></el-table-column>
							<el-table-column label="设备类型">
								<template slot-scope="scope">
									<div slot="reference" class="name-wrapper">
										<el-tag size="medium">{{ (scope.row.machineType == 1 ? "大型柜式机" : "小型桌面机" ) }}
										</el-tag>
									</div>
								</template>
							</el-table-column>

							<el-table-column prop="mUpdateUrl" label="链接地址"></el-table-column>

							<el-table-column fixed="right" label="操作">
								<template slot-scope="scope">
									<el-button type="text" size="small">
										编辑
									</el-button>
								</template>
							</el-table-column>
						</el-table>
					</template>

					<el-pagination @size-change="handleSizeChange" @current-change="handleCurrentChange"
						:current-page="currentPage" :page-sizes="[10, 20, 30, 40]" :page-size="pageSize"
						layout="total, sizes, prev, pager, next, jumper" :total="total">
					</el-pagination>

					<el-dialog title="新增版本" :visible.sync="detailTableAndVisible">
						<el-form :model="formData" class="demo-ruleForm" ref="ruleForm" label-width="100px">
							<el-form-item label="类型">
								<el-select v-model="formData.formulaId" placeholder="选择配方" class="w400">
									<el-option></el-option>
									<el-option></el-option>
									<el-option></el-option>
								</el-select>
							</el-form-item>
							<el-form-item label="版本号" prop="mUpdateVersion">
								<el-input v-model="formData.mUpdateVersion" class="w400"></el-input>
							</el-form-item>
							<el-form-item label="序列号" prop="mUpdateVersion">
								<el-input v-model="formData.mUpdateVersion" class="w400"></el-input>
							</el-form-item>
							<el-form-item label="说 明" prop="mUpdateVersion">
								<el-input v-model="formData.mUpdateVersion" class="w400" type="textarea"></el-input>
							</el-form-item>
							<el-form-item>
								<template v-model="ruleForm.machineScenePicUrl">
									<small>场景图片</small>
									<el-upload prop="machineScenePicUrl"
										action="http://test.cbcoffee.cn:8085/upload_file" list-type="picture-card"
										:file-list="imageList.machineScenePicUrl" :limit="num" :data="fileData"
										:on-change="fileChange" :on-success="machineSceneSuccess"
										:on-exceed="fileExceed" :on-preview="handlePictureCardPreview"
										:on-remove="handleRemove">
										<i class="el-icon-plus"></i>
									</el-upload>
									<el-dialog :visible.sync="dialogVisible">
										<img width="100%" :src="dialogImageUrl" alt="">
									</el-dialog>
								</template>
							</el-form-item>
							<template>
								<div style="margin-top: 10px">
									<el-button type="primary"
										@click="bindUser({_uri: 'statistics_bind_user',_type:[1]})">
										绑定
									</el-button>
									<el-button type="primary"
										@click="bindUser({_id: 'userid',_uri: 'statistics_bind_user',_type:[2]})">
										解绑
									</el-button>
								</div>
							</template>
						</el-form>
					</el-dialog>
				</el-main>
			</el-container>

		</template>
	</div>
</body>

</html>