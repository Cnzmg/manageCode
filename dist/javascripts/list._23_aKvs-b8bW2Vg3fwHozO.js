!function(i){var a={};function n(e){if(a[e])return a[e].exports;var t=a[e]={i:e,l:!1,exports:{}};return i[e].call(t.exports,t,t.exports,n),t.l=!0,t.exports}n.m=i,n.c=a,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(i,a,function(e){return t[e]}.bind(null,a));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=127)}({127:function(e,t){var i;function a(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var n=[parent.all.jq,parent.all.json,parent.document.getElementById("tagHref").getAttribute("src").replace("..","/manage").split("?")[0],document.getElementById("c-container-list").getAttribute("data-uri")],U=n[1],D=n[2],k=n[3],r={id:ym.init.COMPILESTR.decrypt(U.id),token:ym.init.COMPILESTR.decrypt(U.asset),url:D};new Vue({el:"#c-container-list",data:function(){return{loading:!1,more:!1,tableData:[],currentPage:1,pageSize:20,total:0,page:1,select:"",searchVal:"",searchName:"",machineNumbers:{machineCount:0},selectFil:"",selectMater:"",dateLog:"",InputAndVisible:!1,formData:{machineType:1,name:"",mUpdateUrl:"",madTitle:"",madOrder:"",madUrl:"",madId:"",adminName:"",adminPwd:"",realName:"",adminMobile:"",named:"",roleId:""},imageList:{mUpdateUrl:[],madUrl:[]},TableAndVisible:!1,TableFormData:[],UpdateTableAndVisible:!1,UpdateTableFormData:[],listId:"",productCount:0,productId:[],detailTableAndVisible:!1,detailTableFormData:[],options:[],unbinadmin:{adminIds:"",maintainerName:"",maintainerPhone:"",bindMachine:"",state:""},UnFormData:[],adminIds:[],listIds:[],machineNumber:[],restaurants:[],state:"",timeout:null,userIds:[],userIdts:[],userMode:[],machineLogs:[],machineLogViews:!1,fileData:r,num:1,dialogVisible:!1,dialogImageUrl:"",adevtmodel:!1,adIds:[],html:"",pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,i=new Date;i.setTime(i.getTime()-6048e5),e.$emit("pick",[i,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,i=new Date;i.setTime(i.getTime()-2592e6),e.$emit("pick",[i,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,i=new Date;i.setTime(i.getTime()-7776e6),e.$emit("pick",[i,t])}},{text:"最近半年",onClick:function(e){var t=new Date,i=new Date;i.setTime(i.getTime()-15552e6),e.$emit("pick",[i,t])}},{text:"最近一年",onClick:function(e){var t=new Date,i=new Date;i.setTime(i.getTime()-31536e6),e.$emit("pick",[i,t])}}]},select_user:"",user_type:1,statues:{user:!1,flow:!1,state:!1},overdueTime:"",grantCount:"",user_state:1,order:{},refundMoney:{},pathUrlExe:{},optionsTime:[],bool:"",StatusName:new Map([["free",{user:new Map([[1,"超级管理员"],[2,"系统管理员"],[3,"商户管理员"]]),statues:new Map([[0,"冻结"],[1,"正常"]]),machineType:new Map([[1,"大型柜式机"],[2,"小型桌面机"],[3,"无网单机"]])}],["time",{machineRun:new Map([[1,"正常"],[2,"故障"],[3,"离线"],[4,"维护"],[5,"维修"],[6,"维修完成"]]),couponTime:new Map([[1,"年"],[2,"月"],[3,"日"],[4,"周"]])}]])}},created:function(){this.list()},methods:(i={IError:function(e){var t=this;setTimeout(function(){t.loading=!1},1e3),this.$message.error("错了哦!"+e)},ISuccessfull:function(e){var t=this;setTimeout(function(){t.loading=!1},1e3),this.$message({message:"成功了哦!,"+e,type:"success"})},handleSizeChange:function(e){this.pageSize=e,this.list()},handleCurrentChange:function(e){this.page=e,this.list()},list:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var N=this,C=[];N.loading=!0,""!=t&&(t.forEach(function(e,t){-1!=e.indexOf(":")&&(r[e.split(":")[0]]=e.split(":")[1])}),""!=t[0]&&""!=t[1]&&(r[t[0]]=t[1]),t[4]&&(r.startDate=ym.init.getDateTime(t[4][0]),r.endDate=ym.init.getDateTime(t[4][0]))),"manage_prodcut_list_list"==k&&(r.type=1),"manage_machine_version"==k&&(r.type=1),"find_machine_advertisement_list"==k&&(r.type=1),"manage_advertisement_list_list"==k&&(r.type=1),"client_user_list"==k&&(r.type=1),"manage_dividend_list"==k&&(r.type=1),r.page=N.page,ym.init.XML({method:"find_machine_poi_list"==k||"get_activity_list"==k||"statistics_list"==k||"maintainer_list"==k?"GET":"POST",uri:U._j.URLS.Development_Server_+k,async:!1,xmldata:r,done:function(v){ym.init.RegCode(U._j.successfull).test(v.statusCode.status)?function(){switch(k){case"find_user_list":for(var e=0;e<v.adminShowList.length;e++)C.push({adminId:v.adminShowList[e].adminId,realName:v.adminShowList[e].realName,adminName:v.adminShowList[e].adminName,roleId:N.StatusName.get("free").user.get(v.adminShowList[e].roleId),adminStatus:N.StatusName.get("free").statues.get(v.adminShowList[e].adminStatus),nickName:v.adminShowList[e].nickName+"/"+v.adminShowList[e].userId,registerTime:ym.init.getDateTime(v.adminShowList[e].registerTime),parentAdminName:v.adminShowList[e].parentAdminName});break;case"find_log_list":for(var t=0;t<v.logInfoList.length;t++)C.push({adminName:v.logInfoList[t].adminName,logContent:v.logInfoList[t].logContent,logTime:ym.init.getDateTime(v.logInfoList[t].logTime),permissionName:v.logInfoList[t].permissionName,realName:v.logInfoList[t].realName,roleId:N.StatusName.get("free").user.get(v.logInfoList[t].roleId)});break;case"find_formula_list":for(var i=0;i<v.formulaInfoList.length;i++)C.push({formulaId:v.formulaInfoList[i].formulaId,formulaName:v.formulaInfoList[i].formulaName,createTime:ym.init.getDateTime(v.formulaInfoList[i].createTime),machineType:N.StatusName.get("free").machineType.get(v.formulaInfoList[i].machineType),formulaTemperature:v.formulaInfoList[i].formulaTemperature});break;case"find_product_list":for(var a=0;a<v.productShowList.length;a++)C.push({productId:v.productShowList[a].productId,productName:v.productShowList[a].productName,productPrice:parseFloat(v.productShowList[a].productPrice/100).toFixed(2),productPicurl:v.productShowList[a].productPicurl,machineType:N.StatusName.get("free").machineType.get(v.productShowList[a].machineType),formulaName:v.productShowList[a].formulaName,bunkerNumber:v.productShowList[a].bunkerNumber,createTime:ym.init.getDateTime(v.productShowList[a].createTime).split(" ")[0],productRank:v.productShowList[a].productRank,productComment:v.productShowList[a].productComment});break;case"manage_prodcut_list_list":for(var n=0;n<v.productListList.length;n++)C.push({listId:v.productListList[n].listId,listName:v.productListList[n].listName,machineType:N.StatusName.get("free").machineType.get(v.productListList[n].machineType)});break;case"find_machine_list":ym.init.XML({method:"POST",uri:U._j.URLS.Development_Server_+"find_machine_number",async:!0,xmldata:{id:ym.init.COMPILESTR.decrypt(U.id),token:ym.init.COMPILESTR.decrypt(U.asset),url:D},done:function(e){N.machineNumbers.machineCount=e.machineCount,N.machineNumbers.offLineNum=e.offLineNum,N.machineNumbers.starvingNum=e.starvingNum,N.machineNumbers.faultNum=e.faultNum,N.machineNumbers.maintainNum=e.maintainNum}});for(var s=0;s<v.machineShowList.length;s++)C.push({machineNumber:v.machineShowList[s].machineNumber,adminName:v.machineShowList[s].adminName,machineAddrDesc:v.machineShowList[s].machineAddrDesc,machineType:N.StatusName.get("free").machineType.get(v.machineShowList[s].machineType),machineSn:v.machineShowList[s].machineSn,machineScenePicUrl:v.machineShowList[s].machineScenePicUrl,wxacode:v.machineShowList[s].wxacode,onlineStatus:v.machineShowList[s].onlineStatus,failureStatus:v.machineShowList[s].failureStatus,materialStatus:v.machineShowList[s].materialStatus});break;case"manage_machine_version":for(var r=0;r<v.machineUpdateList.length;r++)C.push({mUpdateId:v.machineUpdateList[r].mUpdateId,mUpdateVersion:v.machineUpdateList[r].mUpdateVersion,versionCode:v.machineUpdateList[r].versionCode,mUpdateTime:ym.init.getDateTime(v.machineUpdateList[r].mUpdateTime),mUpdateDes:v.machineUpdateList[r].mUpdateDes,machineType:v.machineUpdateList[r].machineType,mUpdateUrl:v.machineUpdateList[r].mUpdateUrl});break;case"find_machine_poi_list":for(var m=0;m<v.poiList.length;m++)C.push({poiId:v.poiList[m].poiId,longitude:v.poiList[m].longitude,latitude:v.poiList[m].latitude,addr:v.poiList[m].addr,mapMarkerIcon:v.poiList[m].mapMarkerIcon,province:v.poiList[m].province+"/"+v.poiList[m].city+"/"+v.poiList[m].district,machineUrl:v.poiList[m].machineUrl,hide:v.poiList[m].hide,machineCount:v.poiList[m].machineCount,numberList:v.poiList[m].numberList});break;case"find_machine_advertisement_list":for(var o=0;o<v.machineAdvertisementList.length;o++)C.push({madId:v.machineAdvertisementList[o].madId,madTitle:v.machineAdvertisementList[o].madTitle,madUrl:v.machineAdvertisementList[o].madUrl,madStatus:v.machineAdvertisementList[o].madStatus,madTime:ym.init.getDateTime(v.machineAdvertisementList[o].madTime),madOrder:v.machineAdvertisementList[o].madOrder});break;case"manage_advertisement_list_list":for(var d=0;d<v.advertisementListList.length;d++)C.push({listId:v.advertisementListList[d].listId,listName:v.advertisementListList[d].listName});break;case"statistics_shop":for(var u=0;u<v.package.ShopMachine.length;u++)C.push({adminID:v.package.ShopMachine[u].adminID,adminName:v.package.ShopMachine[u].adminName,payMoney:v.package.ShopMachine[u].payMoney,payCount:v.package.ShopMachine[u].payCount,machineCount:v.package.ShopMachine[u].machineCount,realName:v.package.ShopMachine[u].realName});break;case"get_activity_list":for(var c=0;c<v.activityList.length;c++)C.push({id:v.activityList[c].id,comment:v.activityList[c].comment,name:v.activityList[c].name,startTime:ym.init.getDateTime(v.activityList[c].startTime)});break;case"client_user_list":for(var l=0;l<v.clientUserList.length;l++)C.push({userId:v.clientUserList[l].userId,headPicUrl:v.clientUserList[l].headPicUrl,nickName:v.clientUserList[l].nickName,mobile:v.clientUserList[l].mobile,userType:v.clientUserList[l].userType,source:v.clientUserList[l].source,userStatus:v.clientUserList[l].userStatus,registerTime:v.clientUserList[l].registerTime,compensateMilliliter:v.clientUserList[l].compensateMilliliter,memberMilliliter:v.clientUserList[l].memberMilliliter});break;case"get_member_list":for(var p=0;p<v.memberRuleList.length;p++)C.push({memberRuleId:v.memberRuleList[p].memberRuleId,memberRuleName:v.memberRuleList[p].memberRuleName,memberLevel:v.memberRuleList[p].memberLevel,duration:v.memberRuleList[p].duration,payMoney:v.memberRuleList[p].payMoney,discount:v.memberRuleList[p].discount,discountsStartTime:ym.init.getDateTime(v.memberRuleList[p].discountsStartTime).split(" ")[0],discountsEndTime:ym.init.getDateTime(v.memberRuleList[p].discountsEndTime).split(" ")[0],milliliter:v.memberRuleList[p].milliliter,memberPicUrl:v.memberRuleList[p].memberPicUrl,status:v.memberRuleList[p].status});break;case"find_fault_feedback_list":for(var h=0;h<v.faultFeedbackShowList.length;h++)C.push({nickName:v.faultFeedbackShowList[h].nickName,faultPhone:v.faultFeedbackShowList[h].faultPhone,machineNumber:v.faultFeedbackShowList[h].machineNumber,faultTime:ym.init.getDateTime(v.faultFeedbackShowList[h].faultTime),faultContent:v.faultFeedbackShowList[h].faultContent,orderId:v.faultFeedbackShowList[h].orderId});break;case"find_coupon_list":for(var f=0;f<v.couponInfoList.length;f++)C.push({couponId:v.couponInfoList[f].couponId,couponName:v.couponInfoList[f].couponName,couponType:v.couponInfoList[f].couponType,couponRangeName:v.couponInfoList[f].couponRangeName,couponMoney:parseFloat(v.couponInfoList[f].couponMoney/100).toFixed(2),couponTime:v.couponInfoList[f].couponTime+"( "+N.StatusName.get("time").couponTime.get(v.couponInfoList[f].timeUnit)+" )"});break;case"find_order_list":for(var _=0;_<v.orders.length;_++)C.push({orderId:v.orders[_].orderId,spendingMoney:parseFloat(v.orders[_].spendingMoney).toFixed(2),paymentMoney:parseFloat(v.orders[_].paymentMoney).toFixed(2),paymentType:v.orders[_].paymentType,consumptionType:v.orders[_].consumptionType,orderStatus:v.orders[_].orderStatus,paymentTime:v.orders[_].paymentTime});break;case"refund_order_list":for(var y=0;y<v.list.length;y++)C.push({orderId:v.list[y].orderId,refundId:v.list[y].refundId,createTime:v.list[y].createTime,paymentTime:v.list[y].paymentTime,refundTime:v.list[y].refundTime,refundMoney:parseFloat(v.list[y].refundMoney).toFixed(2),refundType:-1==v.list[y].refundType?"未知":v.list[y].refundType,refundStatus:v.list[y].refundStatus,orderType:v.list[y].orderType});break;case"statistics_list":for(var g=0;g<v.statisticsList.length;g++)C.push({statisticsId:v.statisticsList[g].statisticsId,statisticsTime:ym.init.getDateTime(v.statisticsList[g].statisticsTime).split(" ")[0],statisticsDate:v.statisticsList[g].statisticsDate,statisticsMachine:v.statisticsList[g].statisticsMachine,adminName:v.statisticsList[g].adminName,refundMoney:v.statisticsList[g].refundMoney,orderCount:v.statisticsList[g].orderCount,cancelOrderCount:v.statisticsList[g].cancelOrderCount,refundOrderCount:v.statisticsList[g].refundOrderCount,sendCount:v.statisticsList[g].sendCount,refundAmount:v.statisticsList[g].refundAmount,sendUsers:v.statisticsList[g].sendUsers,userCount:v.statisticsList[g].userCount,completeAmount:v.statisticsList[g].completeAmount});break;case"manage_dividend_list":for(var I=0;I<v.dList.length;I++)C.push({dId:v.dList[I].dId,orderId:v.dList[I].orderId,recId:v.dList[I].recId,recName:v.dList[I].recName,recType:v.dList[I].recType,recMoney:v.dList[I].recMoney,allMoney:v.dList[I].allMoney,recTime:v.dList[I].recTime});break;case"maintainer_list":for(var L=0;L<v.maintainerList.length;L++)C.push({maintainerId:v.maintainerList[L].maintainerId,maintainerName:v.maintainerList[L].maintainerName,maintainerPhone:v.maintainerList[L].maintainerPhone,adminName:v.maintainerList[L].adminName,nickName:v.maintainerList[L].nickName,maintainerStatus:v.maintainerList[L].maintainerStatus,auditStatus:v.maintainerList[L].auditStatus,royaltyRate:v.maintainerList[L].royaltyRate,auditAdminName:v.maintainerList[L].auditAdminName,bindMachine:-1==v.maintainerList[L].bindMachine?"无":v.maintainerList[L].bindMachine});break;case"material_log_list":function T(e){var t;C.push({materialLogId:v.materialLog[e].materialLogId,machineNumber:v.materialLog[e].machineNumber,adminName:v.materialLog[e].adminName,productId:v.materialLog[e].productId,productName:v.materialLog[e].productName,orderId:v.materialLog[e].orderId,createTime:ym.init.getDateTime(v.materialLog[e].createTime),materialDeductionList:(t=[],JSON.parse(v.materialLog[e].materialDeductionList).forEach(function(e){t.push("名称："+e.bunkerName,"---扣减量："+e.deduraction+"---")}),t)})}for(var S=0;S<v.materialLog.length;S++)T(S);break;case"machine_runtime_list":for(var b=0;b<v.runtimeList.length;b++)C.push({runtimeId:v.runtimeList[b].runtimeId,machineSn:v.runtimeList[b].machineSn,machineNumber:v.runtimeList[b].machineNumber,machineType:N.StatusName.get("free").machineType.get(v.runtimeList[b].machineType),createTime:ym.init.getDateTime(v.runtimeList[b].createTime),endTime:v.runtimeList[b].endTime?ym.init.getDateTime(v.runtimeList[b].endTime):"无",limitShow:v.runtimeList[b].limitShow,status:N.StatusName.get("time").machineRun.get(v.runtimeList[b].status)})}N.total=parseInt(20*v.pageCount),N.tableData=C,setTimeout(function(){N.loading=!1},500)}():N.IError(v.statusCode.msg)}})},crud:function(e){window.parent.document.getElementById("tagHref").setAttribute("src","../".concat(e.uri,".html?[hash]").concat(e.enitId?"*"+encodeURI(JSON.stringify(e.enitId)):""))},listoperation:function(e){var a=this;switch(e._tag){case"manage_prodcut_list_list":switch(e._type){case"A":r.type=6,r.machineType=e._evt.machineType,r.name=e._evt.name,ym.init.XML({method:"POST",uri:U._j.URLS.Development_Server_+k,async:!1,xmldata:r,done:function(e){try{ym.init.RegCode(U._j.successfull).test(e.statusCode.status)?(a.ISuccessfull(e.statusCode.msg),a.InputAndVisible=!1,a.list()):function(){throw"收集到错误：\n\n"+e.statusCode.msg}()}catch(e){a.IError(e)}}});break;case"S":r.type=2,r.page=1,r.listId=e._evt.listId,a.listId=e._evt.listId,ym.init.XML({method:"POST",uri:U._j.URLS.Development_Server_+k,async:!1,xmldata:r,done:function(e){try{a.TableFormData=[],ym.init.RegCode(U._j.successfull).test(e.statusCode.status)?e.productShowList.forEach(function(e){a.TableFormData.push({productId:e.productId,productName:e.productName,productPrice:parseFloat(e.productPrice/100).toFixed(2),formulaName:e.formulaName,bunkerNumber:e.bunkerNumber,createTime:ym.init.getDateTime(e.createTime).split(" ")[0],productRank:e.productRank,machineType:a.StatusName.get("free").machineType.get(e.machineType)})}):function(){throw"收集到错误：\n\n"+e.statusCode.msg}()}catch(e){a.IError(e)}}});break;case"E":r.type=3,r.listId=a.listId,ym.init.XML({method:"POST",uri:U._j.URLS.Development_Server_+k,async:!1,xmldata:r,done:function(e){try{a.UpdateTableFormData=[],ym.init.RegCode(U._j.successfull).test(e.statusCode.status)?e.productInfoList.forEach(function(t,i){a.UpdateTableFormData.push({productId:t.productId,productName:t.productName,productPrice:parseFloat(t.productPrice/100).toFixed(2),productPicurl:t.productPicurl,formulaName:t.formulaName,bunkerNumber:t.bunkerNumber,createTime:ym.init.getDateTime(t.createTime).split(" ")[0],productRank:t.productRank,machineType:a.StatusName.get("free").machineType.get(t.machineType),productComment:t.productComment}),e.productIdList&&e.productIdList.forEach(function(e){e==t.productId&&a.$nextTick(function(){a.tableChecked(i)})})}):function(){throw"收集到错误：\n\n"+e.statusCode.msg}()}catch(e){a.IError(e)}}});break;case"P":r.type=4,r.listId=a.listId,r.productId=a.productId,ym.init.XML({method:"POST",uri:U._j.URLS.Development_Server_+k,async:!1,xmldata:r,done:function(e){try{a.UpdateTableFormData=[],ym.init.RegCode(U._j.successfull).test(e.statusCode.status)?(a.ISuccessfull(e.statusCode.msg),a.UpdateTableAndVisible=!1,a.listoperation({_tag:"manage_prodcut_list_list",_evt:{listId:a.listId},_type:"S"})):function(){throw"收集到错误：\n\n"+e.statusCode.msg}()}catch(e){a.IError(e)}}});break;case"D":r.type=5,r.listId=e._evt.listId,ym.init.XML({method:"POST",uri:U._j.URLS.Development_Server_+k,async:!0,xmldata:r,done:function(e){try{ym.init.RegCode(U._j.successfull).test(e.statusCode.status)?(a.ISuccessfull(e.statusCode.msg),a.list()):function(){throw"收集到错误：\n\n"+e.statusCode.msg}()}catch(e){a.IError(e)}}})}break;case"manage_advertisement_list_list":switch(e._type){case"A":r.type=6,r.name=e._evt.name,ym.init.XML({method:"POST",uri:U._j.URLS.Development_Server_+k,async:!1,xmldata:r,done:function(e){try{ym.init.RegCode(U._j.successfull).test(e.statusCode.status)?(a.ISuccessfull(e.statusCode.msg),a.InputAndVisible=!1,delete r.name,a.list()):function(){throw"收集到错误：\n\n"+e.statusCode.msg}()}catch(e){a.IError(e)}}});break;case"S":r.type=2,r.page=1,r.listId=e._evt.listId,a.listId=e._evt.listId,ym.init.XML({method:"POST",uri:U._j.URLS.Development_Server_+k,async:!1,xmldata:r,done:function(e){try{a.TableFormData=[],ym.init.RegCode(U._j.successfull).test(e.statusCode.status)?e.advertisementList.forEach(function(e){a.TableFormData.push({madId:e.madId,madOrder:e.madOrder,madStatus:e.madStatus?"上架":"下架",madTime:ym.init.getDateTime(e.madTime).split(" ")[0],madTitle:e.madTitle,madUrl:e.madUrl})}):function(){throw"收集到错误：\n\n"+e.statusCode.msg}()}catch(e){a.IError(e)}}});break;case"E":r.type=3,r.listId=a.listId,ym.init.XML({method:"POST",uri:U._j.URLS.Development_Server_+k,async:!1,xmldata:r,done:function(e){try{a.UpdateTableFormData=[],ym.init.RegCode(U._j.successfull).test(e.statusCode.status)?e.advertisementInfoList.forEach(function(t,i){a.UpdateTableFormData.push({madId:t.madId,madOrder:t.madOrder,madStatus:t.madStatus?"上架":"下架",madTime:ym.init.getDateTime(t.madTime).split(" ")[0],madTitle:t.madTitle,madUrl:t.madUrl}),e.adIdList&&e.adIdList.forEach(function(e){e==t.madId&&a.$nextTick(function(){a.tableChecked(i)})})}):function(){throw"收集到错误：\n\n"+e.statusCode.msg}()}catch(e){a.IError(e)}}});break;case"P":r.type=4,r.listId=a.listId,r.adId=a.adIds,ym.init.XML({method:"POST",uri:U._j.URLS.Development_Server_+k,async:!1,xmldata:r,done:function(e){try{a.UpdateTableFormData=[],ym.init.RegCode(U._j.successfull).test(e.statusCode.status)?(a.ISuccessfull(e.statusCode.msg),a.UpdateTableAndVisible=!1,a.listoperation({_tag:"manage_advertisement_list_list",_evt:{listId:a.listId},_type:"S"})):function(){throw"收集到错误：\n\n"+e.statusCode.msg}()}catch(e){a.IError(e)}}});break;case"D":r.type=5,r.listId=e._evt.listId,ym.init.XML({method:"POST",uri:U._j.URLS.Development_Server_+k,async:!0,xmldata:r,done:function(e){try{ym.init.RegCode(U._j.successfull).test(e.statusCode.status)?(a.ISuccessfull(e.statusCode.msg),a.list()):function(){throw"收集到错误：\n\n"+e.statusCode.msg}()}catch(e){a.IError(e)}}})}}},handleSelectionChange:function(e){var t=this;if(this.multipleSelection=e,this.productCount=e.length,"manage_prodcut_list_list"==k)return!1;this.productId=[],this.adIds=[],this.machineNumber=[],this.adminIds=[],this.userMode=[],e.forEach(function(e){t.productId.push(e.productId),t.machineNumber.push(e.machineNumber),t.adminIds.push(e.adminId),t.adIds.push(e.madId),"无"!=e.userId&&t.userIdts.push(e.userId),t.userMode.push(e)})},filterTag:function(e,t){return t.machineType===e},tableChecked:function(e){this.$refs.multipleTable.toggleRowSelection(this.UpdateTableFormData[e],!0)},searchAPIs:function(e){var t=this,n=this;switch(e._uri){case"manage_machine_product_relation":e._type.forEach(function(i){r.type=i,r.adminId=e._id||"",r.listId=e._listid||"",r.machineNumber=t.machineNumber||[],ym.init.XML({method:"POST",uri:U._j.URLS.Development_Server_+e._uri,async:!1,xmldata:r,done:function(t){try{ym.init.RegCode(U._j.successfull).test(t.statusCode.status)?function(){switch(i){case 1:n.listIds=[],t.productListList.forEach(function(e){n.listIds.push({value:e.listId,label:e.listName})});break;case 2:n.adminIds=[],t.userList.forEach(function(e){n.adminIds.push({value:e.adminId,label:e.adminName})});break;case 3:n.UnFormData=[];for(var e=0;e<t.machineNumberList.length;e++)n.UnFormData.push({listId:t.machineNumberList[e].listId,listName:t.machineNumberList[e].listName,machineNumber:t.machineNumberList[e].machineNumber,machineType:t.machineNumberList[e].machineType});break;default:n.ISuccessfull(t.statusCode.msg),n.detailTableAndVisible=!1}}():function(){throw"收集到错误：\n\n"+t.statusCode.msg}()}catch(e){n.IError(e)}}})});break;case"get_machine_number_arr":r.name="",this.userIds=[],ym.init.XML({method:"POST",uri:U._j.URLS.Development_Server_+e._uri,async:!1,xmldata:r,done:function(e){e.list.forEach(function(a){r.machineNumber=a,ym.init.XML({method:"GET",uri:U._j.URLS.Development_Server_+"statistics_user_list",async:!1,xmldata:r,done:function(e){var t="无",i="无";"4444"!=e.statusCode.status&&e.userList.forEach(function(e){t=e.nickName,i=e.userId}),n.UnFormData.push({machineNumber:a,userName:t,userId:i})}})})}});break;case"manage_advertisement_list_relation":e._type.forEach(function(t){r.type=t,r.adminId=n.adminIds||[],r.listId=e._listid||"",ym.init.XML({method:"POST",uri:U._j.URLS.Development_Server_+e._uri,async:!1,xmldata:r,done:function(e){try{ym.init.RegCode(U._j.successfull).test(e.statusCode.status)?function(){switch(t){case 1:n.listIds=[],e.advertisementListList.forEach(function(e){n.listIds.push({value:e.listId,label:e.listName})});break;case 2:n.UnFormData=[],e.userList.forEach(function(e){n.UnFormData.push({adminId:e.adminId,adListId:e.adListId,listName:e.listName,adminName:e.adminName})});break;default:n.ISuccessfull(e.statusCode.msg),n.detailTableAndVisible=!1}}():function(){throw"收集到错误：\n\n"+e.statusCode.msg}()}catch(e){n.IError(e)}}})});break;case"find_user_milliliter_log":delete r.type,r.userId=e._id,r.page=1,r.start="",r.end="",ym.init.XML({method:"GET",uri:U._j.URLS.Development_Server_+"find_user_milliliter_log",async:!1,xmldata:r,done:function(e){e.logList.forEach(function(e){n.TableFormData.push({logId:e.logId,userId:e.userId,userName:e.userName,createTime:e.createTime,milliliterChange:e.milliliterChange,stateComment:e.stateComment})})}});break;case"find_user_couponList":r.userId=e._id,r.page=1,ym.init.XML({method:"POST",uri:U._j.URLS.Development_Server_+"find_user_couponList",async:!1,xmldata:r,done:function(e){e.logList.forEach(function(e){n.TableFormData.push({logId:e.logId,userId:e.userId,userName:e.userName,createTime:e.createTime,milliliterChange:e.milliliterChange,stateComment:e.stateComment})})}})}},querySearchAsync:function(a,n){var s=this;r.type=1,r.name=a||"拉",ym.init.XML({method:"POST",uri:U._j.URLS.Development_Server_+"find_user_for_bind",async:!1,xmldata:r,done:function(e){var t=[];e.list.forEach(function(e){t.push({value:e.nickName,_id:e.userId})}),s.UnFormData=e.list;var i=a?t.filter(s.createStateFilter(a)):t;clearTimeout(s.timeout),s.timeout=setTimeout(function(){n(i)},3e3*Math.random())}})},createStateFilter:function(t){return function(e){return 0===e.value.toLowerCase().indexOf(t.toLowerCase())}},handleSelect:function(e){this.userIds=e._id},bindUser:function(e){var t=this;switch(e._uri){case"client_user_list":""==e._session&&t.IError("缺少参数！");var i=JSON.parse(e._session);switch(i._uri){case"manage_client_user":r.userType=t.user_type,r.type=i._type,t.userMode.forEach(function(e){r.userId=e.userId,r.nickName=e.nickName,ym.init.XML({method:"POST",uri:U._j.URLS.Development_Server_+i._uri,async:!1,xmldata:r,done:function(e){t.detailTableAndVisible=!1,t.ISuccessfull(e.statusCode.msg)}})}),delete r.userType,delete r.userId,delete r.nickName,t.list();break;case"grant_compensate_milliliter":r.grantCount=t.grantCount,r.overdueTime=t.overdueTime,r.type=i._type,t.userMode.forEach(function(e){r.userId=e.userId,r.nickName=e.nickName,ym.init.XML({method:"GET",uri:U._j.URLS.Development_Server_+i._uri,async:!1,xmldata:r,done:function(e){t.detailTableAndVisible=!1,t.ISuccessfull(e.statusCode.msg)}})}),delete r.grantCount,delete r.overdueTime,t.list()}break;case"batch_free_user":r.type=2,ym.init.XML({method:"POST",uri:U._j.URLS.Development_Server_+"batch_free_user",async:!1,xmldata:r,done:function(e){t.detailTableAndVisible=!1,t.ISuccessfull(e.statusCode.msg)}});break;default:r.machineNumber=this.machineNumber,r.type=e._type,r.userIds=e._id?this.userIdts:this.userIds,ym.init.XML({method:"GET",uri:U._j.URLS.Development_Server_+e._uri,async:!1,xmldata:r,done:function(e){t.detailTableAndVisible=!1,t.ISuccessfull(e.statusCode.msg)}})}},machineLog:function(e){var t=this;delete r.page,r.type=5,r.machineNumber=e.enitId.machineNumber,ym.init.XML({method:"POST",uri:U._j.URLS.Development_Server_+"manage_machine",async:!0,xmldata:r,done:function(e){e.machineFaultList.forEach(function(e){t.machineLogs.push({i:e.faultTime,t:e.faultContent})})}})},fileChange:function(e){r.type=4,r.mUpdateVersion=this.formData.mUpdateVersion,this.dialogImageUrl="../images/Android.svg"},filemadUrlChange:function(e){r.type=9},fileExceed:function(){this.IError("只允许一张图片")},machineSceneSuccess:function(e){this.formData.mUpdateUrl=e.realPath,this.formData.madUrl=e.realPath},handleRemove:function(e,t){console.log(e,t)},handlePictureCardPreview:function(e){this.dialogImageUrl="../images/Android.svg",this.dialogVisible=!0},machineVersion:function(e){var t=this;r.type=e._type,r.machineType=e._machineType,r.mUpdateVersion=e._d.mUpdateVersion,r.versionCode=e._d.versionCode,r.mUpdateDes=e._d.mUpdateDes,r.mUpdateUrl=this.formData.mUpdateUrl,ym.init.XML({method:"POST",uri:U._j.URLS.Development_Server_+e._uri,async:!0,xmldata:r,done:function(e){ym.init.RegCode(U._j.successfull).test(e.statusCode.status)?(t.ISuccessfull(e.statusCode.msg),t.detailTableAndVisible=!1,t.list()):t.IError(e.statusCode.msg)}})},deleteData:function(e){var t=this;switch(e._uri){case"manage_poi":r.poiIds=e._delete.poiId,r.type=e._type,ym.init.XML({method:"POST",uri:U._j.URLS.Development_Server_+e._uri,async:!0,xmldata:r,done:function(e){ym.init.RegCode(U._j.successfull).test(e.statusCode.status)?(t.ISuccessfull(e.statusCode.msg),t.list()):t.IError(e.statusCode.msg)}});break;case"manage_machine_advertisement":r.madId=e._parameter,r.type=e._type,ym.init.XML({method:"POST",uri:U._j.URLS.Development_Server_+e._uri,async:!0,xmldata:r,done:function(e){ym.init.RegCode(U._j.successfull).test(e.statusCode.status)?(t.ISuccessfull(e.statusCode.msg),t.list()):t.IError(e.statusCode.msg)}});break;case"manage_coupon":r.couponId=e._parameter,r.type=e._type,ym.init.XML({method:"POST",uri:U._j.URLS.Development_Server_+e._uri,async:!0,xmldata:r,done:function(e){ym.init.RegCode(U._j.successfull).test(e.statusCode.status)?(t.ISuccessfull(e.statusCode.msg),t.list()):t.IError(e.statusCode.msg)}})}},addEventData:function(e){var t=this;switch(e._uri){case"manage_machine_advertisement":r.madOrder=e._parameter.madOrder,r.madTitle=e._parameter.madTitle,r.madUrl=e._parameter.madUrl,r.type=e._type,t.formData.madId&&(r.madId=t.formData.madId,r.type=4),ym.init.XML({method:"POST",uri:U._j.URLS.Development_Server_+e._uri,async:!0,xmldata:r,done:function(e){ym.init.RegCode(U._j.successfull).test(e.statusCode.status)?(t.ISuccessfull(e.statusCode.msg),t.adevtmodel=!1,t.list()):t.IError(e.statusCode.msg)}});break;case"manage_coupon":r.grantCount=e._parameter,r.couponId=t.unbinadmin.couponId,r.userId=[],t.userMode.forEach(function(e){r.userId.push(e.userId)}),r.type=e._type,ym.init.XML({method:"POST",uri:U._j.URLS.Development_Server_+e._uri,async:!0,xmldata:r,done:function(e){ym.init.RegCode(U._j.successfull).test(e.statusCode.status)?(t.ISuccessfull(e.statusCode.msg),t.detailTableAndVisible=!1,delete r.name,delete r.grantCount,delete r.couponId,delete r.userId,t.list()):t.IError(e.statusCode.msg)}})}},enitEventData:function(e){var t=this;switch(e._uri){case"manage_machine_advertisement":e.hasOwnProperty("_status")?(r.madId=e._parameter,r.type=e._type,r.madStatus=+!e._status,ym.init.XML({method:"POST",uri:U._j.URLS.Development_Server_+e._uri,async:!0,xmldata:r,done:function(e){ym.init.RegCode(U._j.successfull).test(e.statusCode.status)?(delete r.madId,delete r.madStatus,t.list()):t.IError(e.statusCode.msg)}})):(r.madId=e._parameter,r.type=e._type,ym.init.XML({method:"POST",uri:U._j.URLS.Development_Server_+e._uri,async:!0,xmldata:r,done:function(e){ym.init.RegCode(U._j.successfull).test(e.statusCode.status)?(t.ISuccessfull(e.statusCode.msg),t.formData.madTitle=e.machineAdvertisementInfo.madTitle,t.formData.madUrl=e.machineAdvertisementInfo.madUrl,t.formData.madOrder=e.machineAdvertisementInfo.madOrder,t.formData.madId=e.machineAdvertisementInfo.madId,t.imageList.madUrl.push({name:"madUrl",url:e.machineAdvertisementInfo.madUrl})):t.IError(e.statusCode.msg)}}))}},getTime:function(e){this.userCharts[0]=ym.init.getDateTime(e[0]),this.userCharts[1]=ym.init.getDateTime(e[1])},userSelect:function(e){var t=this;switch((e=JSON.parse(e))._uri){case"manage_client_user":2==e._type?(t.statues.user=!0,t.statues.state=!1):(t.statues.user=!1,t.statues.state=!0),t.statues.flow=!1;break;case"grant_compensate_milliliter":t.statues.user=!1,t.statues.state=!1,t.statues.flow=!0}},statusVip:function(e){var t=this;r.memberId=e,ym.init.XML({method:"GET",uri:U._j.URLS.Development_Server_+"change_member_status",async:!1,xmldata:r,done:function(e){try{ym.init.RegCode(U._j.successfull).test(e.statusCode.status)?(t.ISuccessfull(e.statusCode.msg),t.list()):function(){throw"收集到错误：\n\n"+e.statusCode.msg}()}catch(e){t.IError(e)}}})},orderDetail:function(e){var t=this;r.orderId=e,ym.init.XML({method:"POST",uri:U._j.URLS.Development_Server_+"order_detail",async:!1,xmldata:r,done:function(e){try{ym.init.RegCode(U._j.successfull).test(e.statusCode.status)?(t.order={},t.order.orderId=e.detail.orderId,t.order.userId=e.detail.userId,t.order.nickName=e.detail.nickName,t.order.headPicUrl=e.detail.headPicUrl,t.order.machineNumber=e.detail.machineNumber,t.order.machineType=e.detail.machineType,t.order.adminId=e.detail.adminId,t.order.adminName=e.detail.adminName,t.order.paymentType=e.detail.paymentType,t.order.spendingMoney=e.detail.spendingMoney,t.order.paymentMoney=e.detail.paymentMoney,t.order.productId=e.detail.productId,t.order.productName=e.detail.productName,t.order.flavorShow=JSON.stringify(e.detail.flavorShow),t.order.couponName=e.detail.couponName,t.order.consumptionType=e.detail.consumptionType,t.order.orderStatus=e.detail.orderStatus,t.order.redeemCode=e.detail.redeemCode,t.order.paymentTime=e.detail.paymentTime,t.order.createTime=e.detail.createTime,t.order.orderType=e.detail.orderType,t.order.refundId=e.detail.refundId):function(){throw"收集到错误：\n\n"+e.statusCode.msg}()}catch(e){t.IError(e)}}})},refundMoneyNum:function(e){var t=this;t.loading=!0,r.name=JSON.stringify({machineNumber:e.machineNumber||"",adminName:e.adminName||"",productName:e.productName||"",couponName:e.couponName||""}),r.consumptionType=e.consumptionType||"",r.orderStatus=e.orderStatus||"",r.startTime=t.optionsTime[0]||"",r.endTime=t.optionsTime[1]||"",r.orderLine=e.orderLine||"",r.sort=e.sort||"",r.orderType=e.orderType||"",ym.init.XML({method:"POST",uri:U._j.URLS.Development_Server_+"export_order_list",async:!1,xmldata:r,done:function(e){try{ym.init.RegCode(U._j.successfull).test(e.statusCode.status)?(setTimeout(function(){t.loading=!1},500),location.href=U._j.URLS.Development_Server_+e.path):function(){throw"收集到错误：\n\n"+e.statusCode.msg}()}catch(e){t.IError(e)}}})}},a(i,"getTime",function(e){this.optionsTime[0]=ym.init.getDateTime(e[0]),this.optionsTime[1]=ym.init.getDateTime(e[1])}),a(i,"submit",function(t,e){var i=1<arguments.length&&void 0!==e?e:"POST",a=this;"pull"==t.en?t.d?(r.maintainerId=t.d,i="GET"):t.unbinadmin.secc?(r.operaType=2,r.operaVal=t.unbinadmin.secc):t.unbinadmin.bindMachine?(r.operaType=5,r.operaVal=t.unbinadmin.bindMachine):(r.operaType=4,r.operaVal=a.userIds):(r.maintainerName=t.formData.maintainerName||"",r.maintainerPhone=t.formData.maintainerPhone||"",r.password=t.formData.password||"",r.userId=a.userIds),ym.init.XML({method:i,uri:U._j.URLS.Development_Server_+t.uri,async:!1,xmldata:r,done:function(e){try{ym.init.RegCode(U._j.successfull).test(e.statusCode.status)?"pull"==t.en&&t.d?(a.unbinadmin.maintainerName=e.maintainer.maintainerName,a.unbinadmin.maintainerPhone=e.maintainer.maintainerPhone,a.unbinadmin.bindMachine=-1==e.maintainer.bindMachine?"":e.maintainer.bindMachine,a.unbinadmin.state="无"!=e.maintainer.nickName?e.maintainer.nickName:"",a.userIds=e.maintainer.userId):(a.ISuccessfull(e.statusCode.msg),delete r.name,setTimeout(function(){a.TableAndVisible=!1,a.detailTableAndVisible=!1,a.loading=!1},500),a.list()):function(){throw"收集到错误：\n\n"+e.statusCode.msg}()}catch(e){a.IError(e)}}})}),a(i,"adminSubmit",function(t){var i=this;"pull"==t.en?(r.type=1,r.toAdminId=t._d):(r.type=5,""!=i.bool&&(delete r.toAdminId,delete r.page,r.adminToken=i.bool.adminToken,r.type=6,r.registerTime=i.bool.registerTime,r.manageId=i.bool.manageId,r.adminStatus=i.bool.adminStatus,r.adminId=i.bool.adminId),r.adminName=t.formData.adminName,r.adminPwd=t.formData.adminPwd,r.roleId=t.formData.roleId,r.realName=t.formData.realName,r.adminMobile=t.formData.adminMobile,r.userId=i.userIds,r.named=t.formData.named),ym.init.XML({method:"POST",uri:U._j.URLS.Development_Server_+t.uri,async:!1,xmldata:r,done:function(e){try{ym.init.RegCode(U._j.successfull).test(e.statusCode.status)?"pull"==t.en&&t._d?(i.formData.adminName=e.adminUser.adminName,i.formData.adminPwd=e.adminUser.adminPwd,i.formData.roleId=e.adminUser.roleId,i.formData.realName=e.adminUser.realName,i.formData.adminMobile=e.adminUser.adminMobile,i.formData.named=e.adminUser.named,i.formData.state="无"!=e.adminUser.nickName?e.adminUser.nickName:"",i.userIds=-1!=e.adminUser.userId?e.adminUser.userId:[],i.bool={adminToken:e.adminUser.adminToken||"",registerTime:ym.init.getDateTime(e.adminUser.registerTime)||"",manageId:e.adminUser.manageId||"",adminStatus:e.adminUser.adminStatus||"",adminId:e.adminUser.adminId}):(i.ISuccessfull(e.statusCode.msg),delete r.roleId,delete r.adminName,delete r.adminId,delete r.realName,setTimeout(function(){i.TableAndVisible=!1,i.detailTableAndVisible=!1,i.loading=!1},500),i.list()):function(){throw"收集到错误：\n\n"+e.statusCode.msg}()}catch(e){i.IError(e)}}})}),i)})}});